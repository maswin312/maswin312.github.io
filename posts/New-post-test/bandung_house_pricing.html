<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Windaru">
<meta name="dcterms.date" content="2023-04-16">

<title>Windaru’s Scribble - Bandung House Pricing</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Windaru’s Scribble</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Bandung House Pricing</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">code</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Windaru </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 16, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>Photo by <a href="https://unsplash.com/@neermana?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Neermana Studio</a> on <a href="https://unsplash.com/photos/SYKYxuT2o5w?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></p>
<p><img src="neermana-studio-SYKYxuT2o5w-unsplash (1).jpg" class="img-fluid"></p>
<div class="cell" data-execution_count="1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.datasets <span class="im">import</span> make_regression</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> OneHotEncoder</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.compose <span class="im">import</span> ColumnTransformer</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'display.max_colwidth'</span>, <span class="dv">255</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="background" class="level1">
<h1>BACKGROUND</h1>
<p>Machine learning project ini digunakan untuk memprediksi harga rumah yang dijual di kota bandung dan sekitarnya, data yang digunakan di scrape dari web OLX indonesia, project ini bertujuan untuk memperkirakan harga rumah yang dijual berdasarkan beberapa kriteria yang dimasukkan oleh penjual rumah di web OLX</p>
<section id="who-is-this-for" class="level2">
<h2 class="anchored" data-anchor-id="who-is-this-for">Who is this for?</h2>
<p>Warga atau agen perumahan yang memerlukan referensi untuk menentukan harga rumah yang akan dijual</p>
</section>
</section>
<section id="dataset" class="level1">
<h1>Dataset</h1>
<p>Dataset yang digunakan adalah hasil scrape menggunakan selenium + python, script python untuk scraping dapat ditemukan disini : https://github.com/maswin312/selenium_srape_olx/blob/main/Scraping%20OLX.ipynb Hasil scrape disimpan di drive untuk memudahkan proses</p>
</section>
<section id="data-cleaning" class="level1">
<h1>Data Cleaning</h1>
<div class="cell" data-execution_count="3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>bandung <span class="op">=</span> pd.read_csv(<span class="st">'https://docs.google.com/spreadsheets/d/e/2PACX-1vTAR6OtAl_QcmB5_YkJ6M_YTifhCd5Z1gJtoXFJoaPJWcL5fh5n2DnHRIanJBMOOLF5WRjprZXQP-c7/pub?gid=853666521&amp;single=true&amp;output=csv'</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>bandung</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="84">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>link</th>
      <th>price</th>
      <th>sqr_building</th>
      <th>sqr_land</th>
      <th>bedroom</th>
      <th>bathroom</th>
      <th>floor</th>
      <th>facility</th>
      <th>certificate</th>
      <th>Kecamatan</th>
      <th>Kabupaten</th>
      <th>Provinsi</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>https://www.olx.co.id/item/perumahan-cicilan-dan-dp-fleksibel-di-bandung-barat-112146154-iid-887029061</td>
      <td>554006154</td>
      <td>50</td>
      <td>615460</td>
      <td>3</td>
      <td>2</td>
      <td>2.0</td>
      <td>Carport, Garden</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Cibeunying Kidul</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>1</th>
      <td>https://www.olx.co.id/item/perumahan-syariah-10-menit-keikea-kotabaru-parahyangan-112136153-iid-887028704</td>
      <td>554006153</td>
      <td>50</td>
      <td>615360</td>
      <td>3</td>
      <td>2</td>
      <td>2.0</td>
      <td>Carport, Garden</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Cibeunying Kidul</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>2</th>
      <td>https://www.olx.co.id/item/rumah-mewah-500jtan-dekat-stkereta-cepat-bdg-jkt-112116151-iid-887028338</td>
      <td>554006152</td>
      <td>30</td>
      <td>615260</td>
      <td>3</td>
      <td>2</td>
      <td>2.0</td>
      <td>Carport, Garden</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Cibeunying Kaler</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>3</th>
      <td>https://www.olx.co.id/item/rumah-pembangunan-cepat-setelah-akad-langsung-bangun-112116151-iid-887028078</td>
      <td>554006151</td>
      <td>50</td>
      <td>615160</td>
      <td>3</td>
      <td>2</td>
      <td>2.0</td>
      <td>Carport, Garden</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Cibeunying Kaler</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>4</th>
      <td>https://www.olx.co.id/item/perumahan-strategis-dekat-exit-tol-padalarang-112106150-iid-887027161</td>
      <td>390006150</td>
      <td>30</td>
      <td>615060</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>Carport, Garden</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Buahbatu (Margacinta)</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>510</th>
      <td>https://www.olx.co.id/item/rukorumah-pinggir-jalan-raya-iid-876860375</td>
      <td>680000000</td>
      <td>60</td>
      <td>30</td>
      <td>2</td>
      <td>1</td>
      <td>2.0</td>
      <td>NaN</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Cimahi Selatan</td>
      <td>Cimahi Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>511</th>
      <td>https://www.olx.co.id/item/rumah-murah-siap-huni-iid-878362849</td>
      <td>100000000</td>
      <td>21</td>
      <td>30</td>
      <td>1</td>
      <td>1</td>
      <td>1.0</td>
      <td>NaN</td>
      <td>Lainnya (PPJB, Girik, Adat, dll)</td>
      <td>Dayeuhkolot</td>
      <td>Bandung Kab.</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>512</th>
      <td>https://www.olx.co.id/item/rumah-sederhana-area-mohtoha-bandung-murah-layak-siap-huni-iid-886990373</td>
      <td>195000000</td>
      <td>45</td>
      <td>28</td>
      <td>2</td>
      <td>1</td>
      <td>2.0</td>
      <td>NaN</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Astana Anyar</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>513</th>
      <td>https://www.olx.co.id/item/rumah-murah-sederhana-dalam-gang-karasak-moh-toha-iid-886990013</td>
      <td>170000000</td>
      <td>24</td>
      <td>24</td>
      <td>1</td>
      <td>1</td>
      <td>1.0</td>
      <td>NaN</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Astana Anyar</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>514</th>
      <td>https://www.olx.co.id/item/miliki-sekarang-rumah-berkualitas-dengan-promo-mulai-dari-100-jtan-iid-887010808</td>
      <td>135000112</td>
      <td>36</td>
      <td>20</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>Garasi, Garden, Gordyn, PAM</td>
      <td>Lainnya (PPJB, Girik, Adat, dll)</td>
      <td>Buahbatu (Margacinta)</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
  </tbody>
</table>
<p>515 rows × 12 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="4">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> column <span class="kw">in</span> bandung.select_dtypes(exclude<span class="op">=</span>[<span class="st">'object'</span>]):</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>        plt.figure(figsize<span class="op">=</span>(<span class="dv">17</span>,<span class="dv">1</span>))</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>        sns.boxplot(data<span class="op">=</span>bandung, x<span class="op">=</span>column)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-5-output-1.png" width="1289" height="134"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-5-output-2.png" width="1289" height="134"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-5-output-3.png" width="1289" height="134"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-5-output-4.png" width="1289" height="134"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-5-output-5.png" width="1289" height="134"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-5-output-6.png" width="1289" height="134"></p>
</div>
</div>
<p>Data harga memiliki beberapa outlier, berupa harga rumah yang terlalu tinggi, atau luas tanah yang lerlalu luas, kita akan singkirkan data - data tersebut, selanjutnya kita akan mengecek jumlah data yang kita miliki per kecamatan</p>
<div class="cell" data-execution_count="5">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>bandung.groupby([<span class="st">"Kecamatan"</span>])[<span class="st">"price"</span>].agg(<span class="st">"count"</span>).reset_index().sort_values(</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"price"</span>,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    ascending<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="86">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Kecamatan</th>
      <th>price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>13</th>
      <td>Buahbatu (Margacinta)</td>
      <td>112</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Antapani (Cicadas)</td>
      <td>88</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Batununggal</td>
      <td>44</td>
    </tr>
    <tr>
      <th>36</th>
      <td>Sukajadi</td>
      <td>31</td>
    </tr>
    <tr>
      <th>24</th>
      <td>Coblong</td>
      <td>24</td>
    </tr>
    <tr>
      <th>38</th>
      <td>Sumur Bandung</td>
      <td>18</td>
    </tr>
    <tr>
      <th>29</th>
      <td>Lengkong</td>
      <td>13</td>
    </tr>
    <tr>
      <th>35</th>
      <td>Regol</td>
      <td>13</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Bandung Kidul</td>
      <td>12</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Cibeunying Kaler</td>
      <td>12</td>
    </tr>
    <tr>
      <th>21</th>
      <td>Cimahi Utara</td>
      <td>12</td>
    </tr>
    <tr>
      <th>0</th>
      <td>Andir</td>
      <td>11</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Bojongloa Kidul</td>
      <td>11</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Cibeunying Kidul</td>
      <td>10</td>
    </tr>
    <tr>
      <th>28</th>
      <td>Kiaracondong</td>
      <td>9</td>
    </tr>
    <tr>
      <th>17</th>
      <td>Cicendo</td>
      <td>8</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Bojongloa Kaler</td>
      <td>8</td>
    </tr>
    <tr>
      <th>32</th>
      <td>Margahayu</td>
      <td>7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Astana Anyar</td>
      <td>7</td>
    </tr>
    <tr>
      <th>34</th>
      <td>Rancasari</td>
      <td>6</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Arcamanik</td>
      <td>6</td>
    </tr>
    <tr>
      <th>20</th>
      <td>Cimahi Tengah</td>
      <td>5</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Bandung Wetan</td>
      <td>5</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Bojongsoang</td>
      <td>5</td>
    </tr>
    <tr>
      <th>19</th>
      <td>Cimahi Selatan</td>
      <td>4</td>
    </tr>
    <tr>
      <th>25</th>
      <td>Dago</td>
      <td>4</td>
    </tr>
    <tr>
      <th>22</th>
      <td>Cimeunyan</td>
      <td>3</td>
    </tr>
    <tr>
      <th>30</th>
      <td>Mandalajati</td>
      <td>3</td>
    </tr>
    <tr>
      <th>37</th>
      <td>Sukasari</td>
      <td>3</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Baleendah</td>
      <td>3</td>
    </tr>
    <tr>
      <th>31</th>
      <td>Margaasih</td>
      <td>3</td>
    </tr>
    <tr>
      <th>16</th>
      <td>Cibiru</td>
      <td>3</td>
    </tr>
    <tr>
      <th>39</th>
      <td>Ujung Berung</td>
      <td>3</td>
    </tr>
    <tr>
      <th>33</th>
      <td>Panyileukan</td>
      <td>2</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Bandung Kulon</td>
      <td>2</td>
    </tr>
    <tr>
      <th>23</th>
      <td>Cinambo</td>
      <td>1</td>
    </tr>
    <tr>
      <th>18</th>
      <td>Cidadap</td>
      <td>1</td>
    </tr>
    <tr>
      <th>27</th>
      <td>Gedebage</td>
      <td>1</td>
    </tr>
    <tr>
      <th>26</th>
      <td>Dayeuhkolot</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Babakan Ciparay</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Beberapa daerah hanya memiliki beberapa listing/data, karena terlalu sedikit, kita hanya akan gunakan daerah yang memiliki listing/data lebih dari 10 listing/data</p>
<div class="cell" data-execution_count="6">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#remove floor = 0, land and price too big</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>bandung_clean <span class="op">=</span>  bandung[bandung[<span class="st">'floor'</span>] <span class="op">&gt;</span> <span class="dv">0</span>]</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>bandung_clean <span class="op">=</span> bandung_clean[bandung_clean[<span class="st">'sqr_land'</span>] <span class="op">&lt;</span> <span class="dv">10000</span> ]</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>bandung_clean <span class="op">=</span> bandung_clean[bandung_clean[<span class="st">'price'</span>] <span class="op">&lt;</span> <span class="dv">3000000000</span> ]</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>bandung_clean[<span class="st">'price'</span>] <span class="op">=</span> bandung_clean[<span class="st">'price'</span>]<span class="op">/</span><span class="dv">1000000</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>bandung_clean.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="87">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>link</th>
      <th>price</th>
      <th>sqr_building</th>
      <th>sqr_land</th>
      <th>bedroom</th>
      <th>bathroom</th>
      <th>floor</th>
      <th>facility</th>
      <th>certificate</th>
      <th>Kecamatan</th>
      <th>Kabupaten</th>
      <th>Provinsi</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>17</th>
      <td>https://www.olx.co.id/item/di-jual-rumah-tengah-kota-iid-887018521</td>
      <td>370.0</td>
      <td>60</td>
      <td>702</td>
      <td>2</td>
      <td>1</td>
      <td>2.0</td>
      <td>Carport</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Bojongloa Kaler</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>24</th>
      <td>https://www.olx.co.id/item/rumah-cijawura-girang-dekat-uninus-rs-edelweis-iid-882027794</td>
      <td>2900.0</td>
      <td>250</td>
      <td>425</td>
      <td>10</td>
      <td>4</td>
      <td>2.0</td>
      <td>Carport, Garasi, Garden, Gordyn, PAM, Telephone</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Antapani (Cicadas)</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>30</th>
      <td>https://www.olx.co.id/item/dijual-rumah-asri-daerah-bandung-iid-886886940</td>
      <td>2400.0</td>
      <td>150</td>
      <td>398</td>
      <td>3</td>
      <td>1</td>
      <td>2.0</td>
      <td>Garasi, Garden, Carport</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Buahbatu (Margacinta)</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>35</th>
      <td>https://www.olx.co.id/item/rumah-luas-asri-strategis-aman-banjir-iid-884663363</td>
      <td>2000.0</td>
      <td>320</td>
      <td>352</td>
      <td>4</td>
      <td>3</td>
      <td>1.0</td>
      <td>Carport, Garasi, Garden, Gordyn</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Buahbatu (Margacinta)</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>38</th>
      <td>https://www.olx.co.id/item/jual-kos-kosan-dan-rumah-tinggal-iid-884522159</td>
      <td>1950.0</td>
      <td>280</td>
      <td>338</td>
      <td>12</td>
      <td>10</td>
      <td>2.0</td>
      <td>Garasi</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Panyileukan</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> column <span class="kw">in</span> bandung_clean.select_dtypes(exclude<span class="op">=</span>[<span class="st">'object'</span>]):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>        plt.figure(figsize<span class="op">=</span>(<span class="dv">17</span>,<span class="dv">1</span>))</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>        sns.boxplot(data<span class="op">=</span>bandung_clean, x<span class="op">=</span>column)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-8-output-1.png" width="1289" height="134"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-8-output-2.png" width="1289" height="134"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-8-output-3.png" width="1289" height="134"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-8-output-4.png" width="1289" height="134"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-8-output-5.png" width="1289" height="134"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-8-output-6.png" width="1289" height="134"></p>
</div>
</div>
<div class="cell" data-execution_count="8">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#remove kecamatan with listing &lt; 10</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>bandung_clean_agg <span class="op">=</span> bandung_clean.groupby([<span class="st">"Kecamatan"</span>])[<span class="st">"price"</span>].agg(<span class="st">"count"</span>).reset_index().sort_values(</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"price"</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    ascending<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>kecamatans <span class="op">=</span> bandung_clean_agg[bandung_clean_agg[<span class="st">'price'</span>]<span class="op">&gt;=</span> <span class="dv">10</span>][<span class="st">'Kecamatan'</span>]</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>bandung_clean_kec <span class="op">=</span> bandung_clean[bandung_clean[<span class="st">'Kecamatan'</span>].isin(kecamatans)]</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>bandung_clean_kec.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="89">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>link</th>
      <th>price</th>
      <th>sqr_building</th>
      <th>sqr_land</th>
      <th>bedroom</th>
      <th>bathroom</th>
      <th>floor</th>
      <th>facility</th>
      <th>certificate</th>
      <th>Kecamatan</th>
      <th>Kabupaten</th>
      <th>Provinsi</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>24</th>
      <td>https://www.olx.co.id/item/rumah-cijawura-girang-dekat-uninus-rs-edelweis-iid-882027794</td>
      <td>2900.0</td>
      <td>250</td>
      <td>425</td>
      <td>10</td>
      <td>4</td>
      <td>2.0</td>
      <td>Carport, Garasi, Garden, Gordyn, PAM, Telephone</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Antapani (Cicadas)</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>30</th>
      <td>https://www.olx.co.id/item/dijual-rumah-asri-daerah-bandung-iid-886886940</td>
      <td>2400.0</td>
      <td>150</td>
      <td>398</td>
      <td>3</td>
      <td>1</td>
      <td>2.0</td>
      <td>Garasi, Garden, Carport</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Buahbatu (Margacinta)</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>35</th>
      <td>https://www.olx.co.id/item/rumah-luas-asri-strategis-aman-banjir-iid-884663363</td>
      <td>2000.0</td>
      <td>320</td>
      <td>352</td>
      <td>4</td>
      <td>3</td>
      <td>1.0</td>
      <td>Carport, Garasi, Garden, Gordyn</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Buahbatu (Margacinta)</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>45</th>
      <td>https://www.olx.co.id/item/cigadung-raya-timur-hitung-tanah-iid-882085245</td>
      <td>1600.0</td>
      <td>150</td>
      <td>317</td>
      <td>4</td>
      <td>2</td>
      <td>1.0</td>
      <td>Carport, PAM</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Antapani (Cicadas)</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
    <tr>
      <th>46</th>
      <td>https://www.olx.co.id/item/di-jual-rumah-konsep-villa-lokasi-dago-bandung-utara-iid-878472634</td>
      <td>1900.0</td>
      <td>150</td>
      <td>310</td>
      <td>3</td>
      <td>3</td>
      <td>2.0</td>
      <td>AC, Garden, PAM, Water heater</td>
      <td>SHM - Sertifikat Hak Milik</td>
      <td>Batununggal</td>
      <td>Bandung Kota</td>
      <td>Jawa Barat</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="9">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>bandung_clean_agg[bandung_clean_agg[<span class="st">'Kecamatan'</span>].isin(kecamatans)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="90">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Kecamatan</th>
      <th>price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>13</th>
      <td>Buahbatu (Margacinta)</td>
      <td>103</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Antapani (Cicadas)</td>
      <td>65</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Batununggal</td>
      <td>33</td>
    </tr>
    <tr>
      <th>35</th>
      <td>Sukajadi</td>
      <td>25</td>
    </tr>
    <tr>
      <th>37</th>
      <td>Sumur Bandung</td>
      <td>15</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Bandung Kidul</td>
      <td>12</td>
    </tr>
    <tr>
      <th>28</th>
      <td>Lengkong</td>
      <td>12</td>
    </tr>
    <tr>
      <th>20</th>
      <td>Cimahi Utara</td>
      <td>12</td>
    </tr>
    <tr>
      <th>23</th>
      <td>Coblong</td>
      <td>11</td>
    </tr>
    <tr>
      <th>0</th>
      <td>Andir</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="10">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>bandung_clean_kec,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"price"</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"Kecamatan"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-11-output-1.png" width="1316" height="651"></p>
</div>
</div>
<p>Persebaran harga ditiap tiap kecamata, kecamatan buahbatu memiliki outlier yang paling bangyak dibandingkan dengan kecamatan lain, namun karena kecamatan tersebut memiliki data yang paling besar, maka kita akan tetap gunakan kecamatan tersebut</p>
<div class="cell" data-execution_count="11">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>bandung_clean_kec <span class="op">=</span> bandung_clean_kec.drop([<span class="st">"link"</span>, <span class="st">"facility"</span>, <span class="st">'Kabupaten'</span>, <span class="st">'Provinsi'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="12">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span> (<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>sns.heatmap(bandung_clean_kec.corr(numeric_only<span class="op">=</span> <span class="va">True</span>), annot<span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-13-output-1.png" width="1050" height="638"></p>
</div>
</div>
<p>Menggunakan heatmap untuk melihat korelasi antar column, dapat dilihat luas bangunan memiliki korelasi yang paling kuat dengan harga, dan jumlah kamar memiliki korelasi yang paling rendah</p>
<div class="cell" data-execution_count="13">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#ubah kecamatan menjadi kategori</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> [<span class="st">'certificate'</span>, <span class="st">'Kecamatan'</span>]:</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    bandung_clean_kec[col] <span class="op">=</span> bandung_clean_kec[col].astype(<span class="st">'category'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="14">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>bandung_clean_kec.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="95">
<pre><code>price            float64
sqr_building       int64
sqr_land           int64
bedroom            int64
bathroom           int64
floor            float64
certificate     category
Kecamatan       category
dtype: object</code></pre>
</div>
</div>
<div class="cell" data-execution_count="15">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>sns.pairplot(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    bandung_clean_kec,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># to show</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-16-output-1.png" width="1418" height="1417"></p>
</div>
</div>
<p>Melihat hasil pairplot pada price dan luas bangunan dan luas tanah. model regressi mungkin bisa kita gunakan</p>
<div class="cell" data-execution_count="16">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>bandung_clean_kec,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"price"</span>,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"certificate"</span>,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-17-output-1.png" width="1361" height="651"></p>
</div>
</div>
<p>mayoritas rumah yang dijual memiliki sertifikat SHM</p>
</section>
<section id="modeling" class="level1">
<h1>Modeling</h1>
<div class="cell" data-execution_count="17">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#split data train - test</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> split_input_output(data, target_column):</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    X <span class="op">=</span> data.drop(columns <span class="op">=</span> [target_column])</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> data[target_column]</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> X, y</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>X, y <span class="op">=</span> split_input_output(data <span class="op">=</span> bandung_clean_kec,</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>                          target_column <span class="op">=</span> <span class="st">"price"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="18">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X,</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>                                                    y,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>                                                    test_size <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>                                                    random_state <span class="op">=</span> <span class="dv">123</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="19">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>X_train_clean <span class="op">=</span> (</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    pd.get_dummies(X_train, prefix<span class="op">=</span><span class="st">""</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    .reset_index()</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    .drop(</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>        [<span class="st">"index"</span>],</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>        axis<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>X_train_clean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="100">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>sqr_building</th>
      <th>sqr_land</th>
      <th>bedroom</th>
      <th>bathroom</th>
      <th>floor</th>
      <th>_HGB - Hak Guna Bangun</th>
      <th>_Lainnya (PPJB, Girik, Adat, dll)</th>
      <th>_SHM - Sertifikat Hak Milik</th>
      <th>_Andir</th>
      <th>_Antapani (Cicadas)</th>
      <th>_Bandung Kidul</th>
      <th>_Batununggal</th>
      <th>_Buahbatu (Margacinta)</th>
      <th>_Cimahi Utara</th>
      <th>_Coblong</th>
      <th>_Lengkong</th>
      <th>_Sukajadi</th>
      <th>_Sumur Bandung</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>36</td>
      <td>60</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>130</td>
      <td>140</td>
      <td>4</td>
      <td>2</td>
      <td>2.0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>36</td>
      <td>50</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>156</td>
      <td>84</td>
      <td>3</td>
      <td>2</td>
      <td>2.0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>30</td>
      <td>45</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>233</th>
      <td>92</td>
      <td>105</td>
      <td>3</td>
      <td>2</td>
      <td>2.0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>234</th>
      <td>90</td>
      <td>121</td>
      <td>3</td>
      <td>3</td>
      <td>2.0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>235</th>
      <td>100</td>
      <td>205</td>
      <td>2</td>
      <td>2</td>
      <td>2.0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>236</th>
      <td>36</td>
      <td>50</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>237</th>
      <td>135</td>
      <td>118</td>
      <td>3</td>
      <td>2</td>
      <td>1.0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>238 rows × 18 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="20">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> GradientBoostingRegressor</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> GridSearchCV </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> mean_squared_error, r2_score, mean_absolute_error</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>params <span class="op">=</span> {<span class="st">'n_estimators'</span>: [<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>, <span class="dv">400</span>, <span class="dv">500</span>],</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>              <span class="st">'learning_rate'</span>: [<span class="fl">0.1</span>, <span class="fl">0.05</span>, <span class="fl">0.01</span>]}</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Buat gridsearch</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>grad_tree <span class="op">=</span> GradientBoostingRegressor(random_state <span class="op">=</span> <span class="dv">123</span>)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>grad_tree_cv <span class="op">=</span> GridSearchCV(estimator <span class="op">=</span> grad_tree,</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>                           param_grid <span class="op">=</span> params,</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>                           cv <span class="op">=</span> <span class="dv">5</span>,</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>                           scoring <span class="op">=</span> <span class="st">"neg_mean_absolute_error"</span>)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit grid search cv</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>grad_tree_cv.fit(X_train_clean, y_train)</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Best params</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>grad_tree_cv.best_params_</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="101">
<pre><code>{'learning_rate': 0.05, 'n_estimators': 200}</code></pre>
</div>
</div>
<div class="cell" data-execution_count="21">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>grad_tree <span class="op">=</span> GradientBoostingRegressor(n_estimators <span class="op">=</span> <span class="dv">200</span>,</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>                                      learning_rate<span class="op">=</span><span class="fl">0.1</span>,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>                                      random_state <span class="op">=</span> <span class="dv">123</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>grad_tree.fit(X_train_clean, y_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="102">
<style>#sk-container-id-4 {color: black;background-color: white;}#sk-container-id-4 pre{padding: 0;}#sk-container-id-4 div.sk-toggleable {background-color: white;}#sk-container-id-4 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-4 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-4 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-4 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-4 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-4 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-4 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-4 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-4 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-4 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-4 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-4 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-4 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-4 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-4 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-4 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-4 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-4 div.sk-item {position: relative;z-index: 1;}#sk-container-id-4 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-4 div.sk-item::before, #sk-container-id-4 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-4 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-4 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-4 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-4 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-4 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-4 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-4 div.sk-label-container {text-align: center;}#sk-container-id-4 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-4 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-4" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>GradientBoostingRegressor(n_estimators=200, random_state=123)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-4" type="checkbox" checked=""><label for="sk-estimator-id-4" class="sk-toggleable__label sk-toggleable__label-arrow">GradientBoostingRegressor</label><div class="sk-toggleable__content"><pre>GradientBoostingRegressor(n_estimators=200, random_state=123)</pre></div></div></div></div></div>
</div>
</div>
<div class="cell" data-execution_count="22">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>y_pred_train_gbcv <span class="op">=</span> grad_tree.predict(X_train_clean)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate mean absolute error</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>mae_gb_cv <span class="op">=</span> mean_absolute_error(y_train, y_pred_train_gbcv)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate R-squared</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>r2_gb_cv <span class="op">=</span> r2_score(y_train, y_pred_train_gbcv)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="23">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Score : </span><span class="sc">{</span>r2_gb_cv<span class="sc">}</span><span class="ss"> </span><span class="ch">\n</span><span class="ss"> Mae :  </span><span class="sc">{</span>mae_gb_cv<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Score : 0.9881089521455664 
 Mae :  56.51410615809776</code></pre>
</div>
</div>
<div class="cell" data-execution_count="24">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x<span class="op">=</span>y_train, y<span class="op">=</span>y_pred_train_gbcv)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-25-output-1.png" width="583" height="429"></p>
</div>
</div>
<div class="cell" data-execution_count="25">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>X_test_clean <span class="op">=</span> (</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    pd.get_dummies(X_test, prefix<span class="op">=</span><span class="st">""</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    .reset_index()</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    .drop(</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>        [<span class="st">"index"</span>],</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>        axis<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>X_test_clean.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="106">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>sqr_building</th>
      <th>sqr_land</th>
      <th>bedroom</th>
      <th>bathroom</th>
      <th>floor</th>
      <th>_HGB - Hak Guna Bangun</th>
      <th>_Lainnya (PPJB, Girik, Adat, dll)</th>
      <th>_SHM - Sertifikat Hak Milik</th>
      <th>_Andir</th>
      <th>_Antapani (Cicadas)</th>
      <th>_Bandung Kidul</th>
      <th>_Batununggal</th>
      <th>_Buahbatu (Margacinta)</th>
      <th>_Cimahi Utara</th>
      <th>_Coblong</th>
      <th>_Lengkong</th>
      <th>_Sukajadi</th>
      <th>_Sumur Bandung</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>110</td>
      <td>127</td>
      <td>3</td>
      <td>2</td>
      <td>2.0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>90</td>
      <td>137</td>
      <td>3</td>
      <td>2</td>
      <td>1.0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>90</td>
      <td>121</td>
      <td>3</td>
      <td>3</td>
      <td>2.0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>30</td>
      <td>45</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>70</td>
      <td>120</td>
      <td>3</td>
      <td>2</td>
      <td>1.0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="26">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>y_pred_test_gbcv <span class="op">=</span> grad_tree.predict(X_test_clean)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate mean absolute error</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>test_mae_gb_cv <span class="op">=</span> mean_absolute_error(y_test, y_pred_test_gbcv)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate R-squared</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>test_r2_gb_cv <span class="op">=</span> r2_score(y_test, y_pred_test_gbcv)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Score : </span><span class="sc">{</span>test_r2_gb_cv<span class="sc">}</span><span class="ss"> </span><span class="ch">\n</span><span class="ss"> Mae :  </span><span class="sc">{</span>test_mae_gb_cv<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Score : 0.7066844439835633 
 Mae :  228.86587835362891</code></pre>
</div>
</div>
<div class="cell" data-execution_count="27">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x<span class="op">=</span>y_test, y<span class="op">=</span>y_pred_test_gbcv)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="bandung_house_pricing_files/figure-html/cell-28-output-1.png" width="593" height="429"></p>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>